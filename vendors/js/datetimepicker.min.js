!function(e,t){"use strict";"undefined"!=typeof module&&module.exports?(t("undefined"==typeof angular?require("angular"):angular,"undefined"==typeof moment?require("moment"):moment),module.exports="ui.bootstrap.datetimepicker"):"function"==typeof define&&define.amd?define(["angular","moment"],t):t(e.angular,e.moment)}(this,function(o,y){"use strict";function e(a,i){var e={bindToController:!1,controller:t,controllerAs:"dateTimePickerController",replace:!0,require:"ngModel",restrict:"E",scope:{beforeRender:"&",onSetTime:"&"},templateUrl:"templates/datetimepicker.html"};function t(l,e,r){var v=e.controller("ngModel"),g=t();l.screenReader=g.screenReader,l.changeView=function(e,t,r){r&&(r.stopPropagation(),r.preventDefault());if(e&&t.utcDateValue>-1/0&&t.selectable&&d[e]){var n=d[e](t.utcDateValue),a=[];if(n.weeks)for(var i=0;i<n.weeks.length;i+=1)for(var o=n.weeks[i],u=0;u<o.dates.length;u+=1){var s=o.dates[u];a.push(s)}l.beforeRender({$view:n.currentView,$dates:n.dates||a,$leftDate:n.leftDate,$upDate:n.previousViewDate,$rightDate:n.rightDate}),l.data=n}},v.$render=function(){l.changeView(g.startView,new V({utcDateValue:function(e){var t=new Date;if(e){var r=n(e);if(!r.isValid())throw new Error("Invalid date: "+e);t=r.toDate()}return t.getTime()-6e4*t.getTimezoneOffset()}(v.$viewValue)}))},g.configureOn&&l.$on(g.configureOn,function(){g=t(),l.screenReader=g.screenReader,v.$render()}),g.renderOn&&l.$on(g.renderOn,v.$render);var d={year:function(e){for(var t=y.utc(e).startOf("year"),r=10*parseInt(t.year()/10,10),n=y.utc(c(e)).subtract(1,"year").startOf("year"),a="YYYY",i=h(v.$modelValue,a),o=y().format(a),u={currentView:"year",nextView:"year"===g.minView?"setTime":"month",previousViewDate:new V({utcDateValue:null,display:r+"-"+(r+9)}),leftDate:new V({utcDateValue:y.utc(n).subtract(9,"year").valueOf()}),rightDate:new V({utcDateValue:y.utc(n).add(11,"year").valueOf()}),dates:[]},s=0;s<12;s+=1){var l=y.utc(n).add(s,"years"),d={active:l.format(a)===i,current:l.format(a)===o,display:l.format(a),future:l.year()>r+9,past:l.year()<r,utcDateValue:l.valueOf()};u.dates.push(new V(d))}return u},month:function(e){for(var t=y.utc(e).startOf("year"),r=c(e),n="YYYY-MMM",a=h(v.$modelValue,n),i=y().format(n),o={previousView:"year",currentView:"month",nextView:"month"===g.minView?"setTime":"day",previousViewDate:new V({utcDateValue:r.valueOf(),display:t.format("YYYY")}),leftDate:new V({utcDateValue:y.utc(t).subtract(1,"year").valueOf()}),rightDate:new V({utcDateValue:y.utc(t).add(1,"year").valueOf()}),dates:[]},u=0;u<12;u+=1){var s=y.utc(t).add(u,"months"),l={active:s.format(n)===a,current:s.format(n)===i,display:s.format("MMM"),utcDateValue:s.valueOf()};o.dates.push(new V(l))}return o},day:function(e){for(var t=y.utc(e),r=y.utc(t).startOf("month"),n=y.utc(t).startOf("year"),a=y.utc(t).endOf("month"),i=y.utc(r).subtract(Math.abs(r.weekday()),"days"),o="YYYY-MMM-DD",u=h(v.$modelValue,o),s=y().format(o),l={previousView:"month",currentView:"day",nextView:"day"===g.minView?"setTime":"hour",previousViewDate:new V({utcDateValue:n.valueOf(),display:r.format("YYYY-MMM")}),leftDate:new V({utcDateValue:y.utc(r).subtract(1,"months").valueOf()}),rightDate:new V({utcDateValue:y.utc(r).add(1,"months").valueOf()}),dayNames:[],weeks:[]},d=0;d<7;d+=1)l.dayNames.push(y.utc().weekday(d).format("dd"));for(var c=0;c<6;c+=1){for(var f={dates:[]},m=0;m<7;m+=1){var p=y.utc(i).add(7*c+m,"days"),w={active:p.format(o)===u,current:p.format(o)===s,display:p.format("D"),future:p.isAfter(a),past:p.isBefore(r),utcDateValue:p.valueOf()};f.dates.push(new V(w))}l.weeks.push(f)}return l},hour:function(e){for(var t=y.utc(e).startOf("day"),r=y.utc(t).startOf("month"),n="YYYY-MM-DD H",a=h(v.$modelValue,n),i=y().format(n),o={previousView:"day",currentView:"hour",nextView:"hour"===g.minView?"setTime":"minute",previousViewDate:new V({utcDateValue:r.valueOf(),display:t.format("ll")}),leftDate:new V({utcDateValue:y.utc(t).subtract(1,"days").valueOf()}),rightDate:new V({utcDateValue:y.utc(t).add(1,"days").valueOf()}),dates:[]},u=0;u<24;u+=1){var s=y.utc(t).add(u,"hours"),l={active:s.format(n)===a,current:s.format(n)===i,display:s.format("LT"),utcDateValue:s.valueOf()};o.dates.push(new V(l))}return o},minute:function(e){for(var t=y.utc(e).startOf("hour"),r=y.utc(t).startOf("day"),n="YYYY-MM-DD H:mm",a=h(v.$modelValue,n),i=y().format(n),o={previousView:"hour",currentView:"minute",nextView:"setTime",previousViewDate:new V({utcDateValue:r.valueOf(),display:t.format("lll")}),leftDate:new V({utcDateValue:y.utc(t).subtract(1,"hours").valueOf()}),rightDate:new V({utcDateValue:y.utc(t).add(1,"hours").valueOf()}),dates:[]},u=60/g.minuteStep,s=0;s<u;s+=1){var l=y.utc(t).add(s*g.minuteStep,"minute"),d={active:l.format(n)===a,current:l.format(n)===i,display:l.format("LT"),utcDateValue:l.valueOf()};o.dates.push(new V(d))}return o},setTime:function(e){var t=new Date(e),r=new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds());switch(g.modelType){case"Date":break;case"moment":r=y([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()]);break;case"milliseconds":r=e;break;default:r=y([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()]).format(g.modelType)}var n=v.$modelValue;v.$setViewValue(r),g.dropdownSelector&&jQuery(g.dropdownSelector).dropdown("toggle");return l.onSetTime({newDate:r,oldDate:n}),d[g.startView](e)}};function c(e){var t=10*parseInt(y.utc(e).year()/10,10);return y.utc(e).year(t).startOf("year")}function h(e,t){return e?n(e).format(t):""}function n(e){return y(e,o.isString(e)?g.parseFormat:void 0)}function t(){var e={};r.datetimepickerConfig&&(e=l.$parent.$eval(r.datetimepickerConfig));var t=o.extend({},a,e);return i.validate(t),t}}function V(){var e=new Date(arguments[0].utcDateValue),t=6e4*e.getTimezoneOffset();this.utcDateValue=e.getTime(),this.selectable=!0,this.localDateValue=function(){return this.utcDateValue+t};var r=["active","current","display","future","past","selectable","utcDateValue"],n=arguments[0];Object.keys(n).filter(function(e){return 0<=r.indexOf(e)}).forEach(function(e){this[e]=n[e]},this)}return t.$inject=["$scope","$element","$attrs"],e}function t(a){return{validate:function(e){var t=["configureOn","dropdownSelector","minuteStep","minView","modelType","parseFormat","renderOn","startView","screenReader"],r=Object.keys(e).filter(function(e){return t.indexOf(e)<0});if(r.length)throw new Error("Invalid options: "+r.join(", "));var n=["minute","hour","day","month","year"];if(n.indexOf(e.startView)<0)throw new Error("invalid startView value: "+e.startView);if(n.indexOf(e.minView)<0)throw new Error("invalid minView value: "+e.minView);if(n.indexOf(e.minView)>n.indexOf(e.startView))throw new Error("startView must be greater than minView");if(!o.isNumber(e.minuteStep))throw new Error("minuteStep must be numeric");if(e.minuteStep<=0||60<=e.minuteStep)throw new Error("minuteStep must be greater than zero and less than 60");if(null!==e.configureOn&&!o.isString(e.configureOn))throw new Error("configureOn must be a string");if(null!==e.configureOn&&e.configureOn.length<1)throw new Error("configureOn must not be an empty string");if(null!==e.renderOn&&!o.isString(e.renderOn))throw new Error("renderOn must be a string");if(null!==e.renderOn&&e.renderOn.length<1)throw new Error("renderOn must not be an empty string");if(null!==e.modelType&&!o.isString(e.modelType))throw new Error("modelType must be a string");if(null!==e.modelType&&e.modelType.length<1)throw new Error("modelType must not be an empty string");"Date"!==e.modelType&&"moment"!==e.modelType&&"milliseconds"!==e.modelType&&(e.parseFormat=e.modelType);if(null!==e.dropdownSelector&&!o.isString(e.dropdownSelector))throw new Error("dropdownSelector must be a string");null===e.dropdownSelector||"undefined"!=typeof jQuery&&"function"==typeof jQuery().dropdown||(a.error("Please DO NOT specify the dropdownSelector option unless you are using jQuery AND Bootstrap.js. Please include jQuery AND Bootstrap.js, or write code to close the dropdown in the on-set-time callback. \n\nThe dropdownSelector configuration option is being removed because it will not function properly."),delete e.dropdownSelector)}}}o.module("ui.bootstrap.datetimepicker",[]).service("dateTimePickerConfig",function(){var e={bg:{previous:"предишна",next:"следваща"},ca:{previous:"anterior",next:"següent"},da:{previous:"forrige",next:"næste"},de:{previous:"vorige",next:"weiter"},"en-au":{previous:"previous",next:"next"},"en-gb":{previous:"previous",next:"next"},en:{previous:"previous",next:"next"},"es-us":{previous:"atrás",next:"siguiente"},es:{previous:"atrás",next:"siguiente"},fi:{previous:"edellinen",next:"seuraava"},fr:{previous:"précédent",next:"suivant"},hu:{previous:"előző",next:"következő"},it:{previous:"precedente",next:"successivo"},ja:{previous:"前へ",next:"次へ"},ml:{previous:"മുൻപുള്ളത്",next:"അടുത്തത്"},nl:{previous:"vorige",next:"volgende"},pl:{previous:"poprzednia",next:"następna"},"pt-br":{previous:"anteriores",next:"próximos"},pt:{previous:"anterior",next:"próximo"},ro:{previous:"anterior",next:"următor"},ru:{previous:"предыдущая",next:"следующая"},sk:{previous:"predošlá",next:"ďalšia"},sv:{previous:"föregående",next:"nästa"},tr:{previous:"önceki",next:"sonraki"},uk:{previous:"назад",next:"далі"},"zh-cn":{previous:"上一页",next:"下一页"},"zh-tw":{previous:"上一頁",next:"下一頁"}}[y.locale().toLowerCase()];return o.extend({},{configureOn:null,dropdownSelector:null,minuteStep:5,minView:"minute",modelType:"Date",parseFormat:"YYYY-MM-DDTHH:mm:ss.SSSZZ",renderOn:null,startView:"day"},{screenReader:e})}).service("dateTimePickerValidator",t).directive("datetimepicker",e),e.$inject=["dateTimePickerConfig","dateTimePickerValidator"],t.$inject=["$log"]});